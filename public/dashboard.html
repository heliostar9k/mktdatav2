<!DOCTYPE html>
<html>
<head>
    <title>Market Data API - Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <div class="min-h-screen">
        <!-- Navigation -->
        <nav class="bg-white shadow-sm">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    <div class="flex">
                        <div class="flex-shrink-0 flex items-center">
                            <h1 class="text-xl font-bold">Market Data API</h1>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <button id="logoutBtn" class="text-gray-500 hover:text-gray-700">
                            Logout
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
            <!-- API Key Section -->
            <div class="bg-white shadow rounded-lg p-6 mb-6">
                <h2 class="text-lg font-medium mb-4">Your API Key</h2>
                <div class="flex items-center space-x-4">
                    <input type="text" id="apiKey" readonly
                        class="flex-1 p-2 border rounded bg-gray-50" value="Loading...">
                    <button onclick="generateNewKey()" 
                        class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                        Generate New Key
                    </button>
                </div>
            </div>

            <!-- API Usage Section -->
            <div class="bg-white shadow rounded-lg p-6 mb-6">
                <h2 class="text-lg font-medium mb-4">API Usage</h2>
                <div class="space-y-4">
                    <div class="bg-gray-50 rounded p-4">
                        <h3 class="font-medium mb-2">Example Request:</h3>
                        <pre class="bg-gray-100 p-3 rounded"><code>fetch('https://your-api-url/api/search', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'x-api-key': 'your-api-key'
    },
    body: JSON.stringify({
        query: 'show me live nasdaq patterns'
    })
});</code></pre>
                    </div>

                    <div class="bg-gray-50 rounded p-4">
                        <h3 class="font-medium mb-2">API Documentation</h3>
                        <p>View the complete API documentation <a href="/docs" class="text-blue-600 hover:text-blue-800">here</a>.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="/dashboard.js"></script>
</body>
</html>
